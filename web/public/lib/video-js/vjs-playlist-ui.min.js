/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/videojs-playlist-ui@3.7.0/dist/videojs-playlist-ui.cjs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}videojs=_interopDefault(require("video.js"));function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var version="3.7.0",dom=videojs.dom||videojs,registerPlugin=videojs.registerPlugin||videojs.plugin,indexOf=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},supportsCssPointerEvents=function(){var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),defaults={className:"vjs-playlist",playOnSelect:!1,supportsCssPointerEvents:supportsCssPointerEvents},addSelectedClass=function(e){e.addClass("vjs-selected")},removeSelectedClass=function(e){e.removeClass("vjs-selected"),e.thumbnail&&dom.removeClass(e.thumbnail,"vjs-playlist-now-playing")},upNext=function(e){e.addClass("vjs-up-next")},notUpNext=function(e){e.removeClass("vjs-up-next")},createThumbnail=function(e){if(!e){var t=document.createElement("div");return t.className="vjs-playlist-thumbnail vjs-playlist-thumbnail-placeholder",t}var i=document.createElement("picture");if(i.className="vjs-playlist-thumbnail","string"==typeof e){var s=document.createElement("img");s.src=e,s.alt="",i.appendChild(s)}else{for(var l=0;l<e.length-1;l++){var a=e[l],n=document.createElement("source");for(var o in a)n[o]=a[o];i.appendChild(n)}var r=e[e.length-1],d=document.createElement("img");for(var p in d.alt="",r)d[p]=r[p];i.appendChild(d)}return i},Component=videojs.getComponent("Component"),PlaylistMenuItem=function(e){function t(t,i,s){var l;if(!i.item)throw new Error("Cannot construct a PlaylistMenuItem without an item option");return(l=e.call(this,t,i)||this).item=i.item,l.playOnSelect=s.playOnSelect,l.emitTapEvents(),l.on(["click","tap"],l.switchPlaylistItem_),l.on("keydown",l.handleKeyDown_),l}_inheritsLoose(t,e);var i=t.prototype;return i.handleKeyDown_=function(e){13!==e.which&&32!==e.which||this.switchPlaylistItem_()},i.switchPlaylistItem_=function(e){this.player_.playlist.currentItem(indexOf(this.player_.playlist(),this.item)),this.playOnSelect&&this.player_.play()},i.createEl=function(){var e=document.createElement("li"),t=this.options_.item;"object"==typeof t.data&&Object.keys(t.data).forEach(function(i){var s=t.data[i];e.dataset[i]=s});if(e.className="vjs-playlist-item",e.setAttribute("tabIndex",0),this.thumbnail=createThumbnail(t.thumbnail),e.appendChild(this.thumbnail),t.duration){var i=document.createElement("time"),s=videojs.formatTime(t.duration);i.className="vjs-playlist-duration",i.setAttribute("datetime","PT0H0M"+t.duration+"S"),i.appendChild(document.createTextNode(s)),e.appendChild(i)}var l=document.createElement("span"),a=this.localize("Now Playing");l.className="vjs-playlist-now-playing-text",l.appendChild(document.createTextNode(a)),l.setAttribute("title",a),this.thumbnail.appendChild(l);var n=document.createElement("div");n.className="vjs-playlist-title-container",this.thumbnail.appendChild(n);var o=document.createElement("span"),r=this.localize("Up Next");o.className="vjs-up-next-text",o.appendChild(document.createTextNode(r)),o.setAttribute("title",r),n.appendChild(o);var d=document.createElement("cite"),p=t.name||this.localize("Untitled Video");return d.className="vjs-playlist-name",d.appendChild(document.createTextNode(p)),d.setAttribute("title",p),n.appendChild(d),e},t}(Component),PlaylistMenu=function(e){function t(t,i){var s;if(!t.playlist)throw new Error("videojs-playlist is required for the playlist component");return(s=e.call(this,t,i)||this).items=[],i.horizontal?s.addClass("vjs-playlist-horizontal"):s.addClass("vjs-playlist-vertical"),i.supportsCssPointerEvents&&s.addClass("vjs-csspointerevents"),s.createPlaylist_(),videojs.browser.TOUCH_ENABLED||s.addClass("vjs-mouse"),s.on(t,["loadstart","playlistchange","playlistsorted"],function(e){s.update()}),s.on(t,"adstart",function(){s.addClass("vjs-ad-playing")}),s.on(t,"adend",function(){s.removeClass("vjs-ad-playing")}),s.on("dispose",function(){s.empty_(),t.playlistMenu=null}),s.on(t,"dispose",function(){s.dispose()}),s}_inheritsLoose(t,e);var i=t.prototype;return i.createEl=function(){return dom.createEl("div",{className:this.options_.className})},i.empty_=function(){this.items&&this.items.length&&(this.items.forEach(function(e){return e.dispose()}),this.items.length=0)},i.createPlaylist_=function(){var e=this.player_.playlist()||[],t=this.el_.querySelector(".vjs-playlist-item-list"),i=this.el_.querySelector(".vjs-playlist-ad-overlay");t||((t=document.createElement("ol")).className="vjs-playlist-item-list",this.el_.appendChild(t)),this.empty_();for(var s=0;s<e.length;s++){var l=new PlaylistMenuItem(this.player_,{item:e[s]},this.options_);this.items.push(l),t.appendChild(l.el_)}i?t.appendChild(i):((i=document.createElement("li")).className="vjs-playlist-ad-overlay",t.appendChild(i));var a=this.player_.playlist.currentItem();if(this.items.length&&a>=0){addSelectedClass(this.items[a]);var n=this.items[a].$(".vjs-playlist-thumbnail");n&&dom.addClass(n,"vjs-playlist-now-playing")}},i.update=function(){var e=this.player_.playlist();if(this.items.length===e.length){for(var t=0;t<this.items.length;t++)if(this.items[t].item!==e[t])return void this.createPlaylist_();for(var i=this.player_.playlist.currentItem(),s=0;s<this.items.length;s++){var l=this.items[s];s===i?(addSelectedClass(l),document.activeElement!==l.el()&&dom.addClass(l.thumbnail,"vjs-playlist-now-playing"),notUpNext(l)):s===i+1?(removeSelectedClass(l),upNext(l)):(removeSelectedClass(l),notUpNext(l))}}else this.createPlaylist_()},t}(Component),hasChildEls=function(e){for(var t=0;t<e.childNodes.length;t++)if(dom.isEl(e.childNodes[t]))return!0;return!1},findRoot=function(e){for(var t,i=document.querySelectorAll("."+e),s=0;s<i.length;s++)if(!hasChildEls(i[s])){t=i[s];break}return t},playlistUi=function(e){if(!this.playlist)throw new Error("videojs-playlist plugin is required by the videojs-playlist-ui plugin");if(dom.isEl(e)&&(videojs.log.warn('videojs-playlist-ui: Passing an element directly to playlistUi() is deprecated, use the "el" option instead!'),e={el:e}),e=videojs.mergeOptions(defaults,e),this.playlistMenu){var t=this.playlistMenu.el();if(t){var i=t.parentNode,s=t.nextSibling;this.playlistMenu.dispose(),dom.emptyEl(t),s?i.insertBefore(t,s):i.appendChild(t),e.el=t}}dom.isEl(e.el)||(e.el=findRoot(e.className)),this.playlistMenu=new PlaylistMenu(this,e)};videojs.registerComponent("PlaylistMenu",PlaylistMenu),videojs.registerComponent("PlaylistMenuItem",PlaylistMenuItem),registerPlugin("playlistUi",playlistUi),playlistUi.VERSION=version,module.exports=playlistUi;
//# sourceMappingURL=/sm/1bf147d16fbb10edbe2867a8fb417bf69b74a65505aff70670edc3cbdf5c4254.map